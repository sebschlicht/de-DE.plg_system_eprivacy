(function(e){var t=function(t){var i=this;this.vars={accepted:!1,displaytype:"message",policyurl:"",media:"",autoopen:!0,modalclass:"",modalwidth:"600",modalheight:"400",lawlink:"",version:0,root:"",cookie:{domain:null,path:null},npstorage:null};var o=function(t){Object.assign(i.vars,t),i.vars.npstorage=new a;var o=parseInt(i.getDataValue());1!==o&&2!==o&&i.vars.autoopen?i.showMessage():i.hideMessage(),e.ajaxSetup({cache:"false"}),n()};this.translate=function(e){return Joomla.JText._("PLG_SYS_EPRIVACY_"+e)};var n=function(){e("button.plg_system_eprivacy_agreed").click(function(){i.acceptCookies()}),e("button.plg_system_eprivacy_accepted").click(function(){i.unacceptCookies()}),e("button.plg_system_eprivacy_declined").click(function(){i.declineCookies()}),e("button.plg_system_eprivacy_reconsider").click(function(){i.undeclineCookies()})};this.acceptCookies=function(){i.setDataValue(2),e.getJSON(i.vars.root,{option:"com_ajax",plugin:"eprivacy",format:"raw",method:"accept",country:i.vars.country}).done(function(e){e&&window.location.reload()})},this.unacceptCookies=function(){var t=confirm(i.translate("CONFIRMUNACCEPT"));t===!0&&(i.delete_cookie("plg_system_eprivacy"),i.setDataValue(1),e.getJSON(i.vars.root,{option:"com_ajax",plugin:"eprivacy",format:"raw",method:"decline"}).done(function(e){e&&window.location.reload()}))},this.delete_cookie=function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(null!==i.vars.cookie.path?"path="+i.vars.cookie.path+";":"")+(null!==i.vars.cookie.domain?"domain="+i.vars.cookie.domain+";":"")},this.declineCookies=function(){i.setDataValue(1),i.hideMessage()},this.undeclineCookies=function(){i.setDataValue(0),i.showMessage()},this.showMessage=function(){switch(e("div.plg_system_eprivacy_declined").each(function(t){e(this).hide()}),e("div.plg_system_eprivacy_accepted").each(function(t){e(this).hide()}),i.vars.displaytype){case"message":case"module":e("div.plg_system_eprivacy_message").each(function(t){e(this).show()});break;case"confirm":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),c();break;case"modal":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),r();break;case"ribbon":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),s();break;case"cookieblocker":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()})}},this.hideMessage=function(){switch(1===parseInt(i.getDataValue())?(e("div.plg_system_eprivacy_declined").show(),e("div.plg_system_eprivacy_accepted").hide()):(e("div.plg_system_eprivacy_declined").hide(),e("div.plg_system_eprivacy_accepted").show()),i.vars.displaytype){case"message":case"confirm":case"module":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()});break;case"modal":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),e("#eprivacyModal").modal("hide");break;case"ribbon":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),e("div.activebar-container").each(function(t){e(this).remove()});break;case"cookieblocker":e("div.plg_system_eprivacy_message").each(function(t){e(this).hide()}),e("div.plg_system_eprivacy_declined").each(function(t){e(this).hide()}),e("div.plg_system_eprivacy_accepted").each(function(t){e(this).hide()})}},this.setDataValue=function(e){i.vars.npstorage.set(btoa(window.location.hostname+".plg_system_eprivacy_decline"),e)},this.getDataValue=function(){return i.vars.npstorage.get(btoa(window.location.hostname+".plg_system_eprivacy_decline"),0)};var s=function(){var t=e('<div class="activebar-container"/>').appendTo(document.body),a=e("<p>"+i.translate("MESSAGE")+"</p>").appendTo(t),o=e('<button class="decline '+i.vars.declineclass+'">'+i.translate("DECLINE")+"</button>").appendTo(t),n=e('<button class="accept '+i.vars.agreeclass+'">'+i.translate("AGREE")+"</button>").appendTo(t);if(i.vars.hasOwnProperty("policyurl")&&i.vars.policyurl.length>0||i.vars.lawlink&&i.vars.lawlink.length>0){var s=e('<ul class="links"/>').appendTo(a);i.vars.policyurl&&i.vars.policyurl.length>0&&e('<li><a href="'+i.vars.policyurl+'" target="'+i.vars.policytarget+'">'+i.translate("POLICYTEXT")+"</a></li>").appendTo(s),i.vars.lawlink&&i.vars.lawlink.length>0&&e('<li><a href="'+i.vars.lawlink+'" target="_BLANK">'+i.translate("LAWLINK_TEXT")+"</a></li>").appendTo(s)}e(o).click(function(){i.declineCookies()}),e(n).click(function(){i.acceptCookies()})},c=function(){if(1!==parseInt(i.getDataValue())){var e=confirm(i.translate("MESSAGE")+" "+i.translate("JSMESSAGE"));e===!0?i.acceptCookies():i.declineCookies()}},r=function(){1!==parseInt(i.getDataValue())&&(document.getElementById("eprivacyModal")||(e(i.vars.modalmarkup).appendTo(document.body),e("#eprivacyModal button.plg_system_eprivacy_agreed").click(function(){i.acceptCookies()}),e("#eprivacyModal button.plg_system_eprivacy_declined").click(function(){i.declineCookies()})),e("#eprivacyModal").modal("show"))};o(t)},a=function(){var e="{"===window.name[0]&&"}"===window.name.substr(-1)?JSON.parse(window.name):{};this.get=function(t,a){return e.hasOwnProperty(t)?e[t]:a},this.set=function(t,a){void 0===typeof t&&void 0===typeof a||(e[t]=a,window.name=JSON.stringify(e))},this.unset=function(t){void 0!==typeof t&&(delete e[t],window.name=JSON.stringify(e))}};e(document).ready(function(){var e=void 0!==Joomla.getOptions?Joomla.getOptions("plg_system_eprivacy"):Joomla.optionsStorage.plg_system_eprivacy;window.eprivacy=new t(e)})})(jQuery),function(){var e=document.getElementsByClassName("joomla-script-options")[0],t=void 0!==e?JSON.parse(e.innerText):Joomla.optionsStorage.plg_system_eprivacy;t.plg_system_eprivacy.accepted||(document.__defineGetter__?(document.__defineGetter__("cookie",function(){return""}),document.__defineSetter__("cookie",function(){})):navigator.appVersion.indexOf("MSIE 6.")!==-1&&navigator.appVersion.indexOf("MSIE 7.")!==-1||Object.defineProperty(document,"cookie",{get:function(){return""},set:function(){return!0}}),window.localStorage.clear(),window.localStorage.__proto__=Object.create(window.Storage.prototype),window.localStorage.__proto__.setItem=function(){},window.sessionStorage.clear(),window.sessionStorage.__proto__=Object.create(window.Storage.prototype),window.sessionStorage.__proto__.setItem=function(){})}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!==o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])}return a},writable:!0,configurable:!0});